(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7618],{6457:(e,s,a)=>{Promise.resolve().then(a.bind(a,8452))},8452:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>B});var i=a(5155),l=a(2115),c=a(8482),n=a(8145),t=a(7168),r=a(9954),d=a(9852),o=a(2714),x=a(6981),h=a(5196),m=a(3999);let j=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,i.jsx)(x.bL,{ref:s,className:(0,m.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...l,children:(0,i.jsx)(x.C1,{className:(0,m.cn)("flex items-center justify-center text-current"),children:(0,i.jsx)(h.A,{className:"h-4 w-4"})})})});j.displayName=x.bL.displayName;var u=a(9037),p=a(2713),v=a(9074),g=a(4186),N=a(5868),f=a(1788),y=a(2657),b=a(7434),w=a(8883),k=a(4516),C=a(381),A=a(3109),D=a(7580);let S=()=>{let[e,s]=(0,l.useState)({type:"monthly",startDate:new Date(Date.now()-2592e6).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],sections:{overview:!0,revenue:!0,services:!0,customers:!0,geographic:!1,operational:!1,forecasting:!1},format:"pdf",includeCharts:!0,includeDetails:!0,language:"ar"}),[a,x]=(0,l.useState)(!1),[h,m]=(0,l.useState)(null),S=[{id:"executive-summary",name:"ملخص تنفيذي",description:"تقرير مختصر للإدارة العليا",icon:u.A,sections:["overview","revenue","forecasting"],duration:"monthly"},{id:"financial-detailed",name:"تقرير مالي مفصل",description:"تحليل شامل للوضع المالي",icon:N.A,sections:["overview","revenue","operational"],duration:"monthly"},{id:"operations-report",name:"تقرير العمليات",description:"أداء الفرق والكفاءة التشغيلية",icon:p.A,sections:["operational","services","geographic"],duration:"weekly"},{id:"customer-analysis",name:"تحليل العملاء",description:"سلوك ورضا العملاء",icon:D.A,sections:["customers","services","geographic"],duration:"monthly"},{id:"daily-snapshot",name:"لقطة يومية",description:"ملخص سريع للأداء اليومي",icon:v.A,sections:["overview","revenue"],duration:"daily"}],B=async()=>{x(!0);try{await new Promise(e=>setTimeout(e,3e3));let s={id:`report_${Date.now()}`,title:R(),generatedAt:new Date().toISOString(),config:e,data:{summary:{totalRevenue:47065,totalBookings:135,customerSatisfaction:4.8,completionRate:96.3},charts:e.includeCharts?["revenue_trend","service_performance","customer_satisfaction"]:[],sections:Object.keys(e.sections).filter(s=>e.sections[s])}};console.log("تقرير تم إنشاؤه:",s);let a=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),i=URL.createObjectURL(a),l=document.createElement("a");l.href=i,l.download=`${s.title}_${new Date().toISOString().split("T")[0]}.${e.format}`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(i)}catch(e){console.error("خطأ في إنشاء التقرير:",e)}finally{x(!1)}},R=()=>({daily:"تقرير يومي",weekly:"تقرير أسبوعي",monthly:"تقرير شهري",quarterly:"تقرير ربع سنوي",annual:"تقرير سنوي",custom:"تقرير مخصص"})[e.type];return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"text-2xl font-bold",children:"مولد التقارير"}),(0,i.jsx)("p",{className:"text-muted-foreground",children:"إنشاء تقارير مخصصة وشاملة"})]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsxs)(t.$,{variant:"outline",onClick:()=>{let s=Object.keys(e.sections).filter(s=>e.sections[s]);m({title:R(),period:`${e.startDate} إلى ${e.endDate}`,sections:s,format:e.format,charts:e.includeCharts,details:e.includeDetails})},children:[(0,i.jsx)(y.A,{className:"w-4 h-4 mr-2"}),"معاينة"]}),(0,i.jsxs)(t.$,{onClick:B,disabled:a,children:[a?(0,i.jsx)(C.A,{className:"w-4 h-4 mr-2 animate-spin"}):(0,i.jsx)(f.A,{className:"w-4 h-4 mr-2"}),a?"جاري الإنشاء...":"إنشاء التقرير"]})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,i.jsxs)(c.Zp,{children:[(0,i.jsxs)(c.aR,{children:[(0,i.jsx)(c.ZB,{className:"text-lg",children:"قوالب التقارير"}),(0,i.jsx)(c.BT,{children:"اختر قالب جاهز أو أنشئ تقرير مخصص"})]}),(0,i.jsx)(c.Wu,{className:"space-y-3",children:S.map(e=>(0,i.jsx)("div",{className:"p-3 border rounded-lg cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>(e=>{s(s=>({...s,type:e.duration,sections:{overview:e.sections.includes("overview"),revenue:e.sections.includes("revenue"),services:e.sections.includes("services"),customers:e.sections.includes("customers"),geographic:e.sections.includes("geographic"),operational:e.sections.includes("operational"),forecasting:e.sections.includes("forecasting")}}))})(e),children:(0,i.jsxs)("div",{className:"flex items-start gap-3",children:[(0,i.jsx)(e.icon,{className:"w-5 h-5 mt-0.5 text-primary"}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("h4",{className:"font-medium text-sm",children:e.name}),(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:e.description}),(0,i.jsx)("div",{className:"flex gap-1 mt-1",children:e.sections.map(e=>(0,i.jsx)(n.E,{variant:"secondary",className:"text-xs",children:e},e))})]})]})},e.id))})]}),(0,i.jsxs)(c.Zp,{children:[(0,i.jsxs)(c.aR,{children:[(0,i.jsx)(c.ZB,{className:"text-lg",children:"إعدادات التقرير"}),(0,i.jsx)(c.BT,{children:"تخصيص محتوى وتنسيق التقرير"})]}),(0,i.jsxs)(c.Wu,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(o.J,{children:"نوع التقرير"}),(0,i.jsxs)(r.l6,{value:e.type,onValueChange:e=>s(s=>({...s,type:e})),children:[(0,i.jsx)(r.bq,{children:(0,i.jsx)(r.yv,{})}),(0,i.jsxs)(r.gC,{children:[(0,i.jsx)(r.eb,{value:"daily",children:"يومي"}),(0,i.jsx)(r.eb,{value:"weekly",children:"أسبوعي"}),(0,i.jsx)(r.eb,{value:"monthly",children:"شهري"}),(0,i.jsx)(r.eb,{value:"quarterly",children:"ربع سنوي"}),(0,i.jsx)(r.eb,{value:"annual",children:"سنوي"}),(0,i.jsx)(r.eb,{value:"custom",children:"مخصص"})]})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(o.J,{children:"من تاريخ"}),(0,i.jsx)(d.p,{type:"date",value:e.startDate,onChange:e=>s(s=>({...s,startDate:e.target.value}))})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(o.J,{children:"إلى تاريخ"}),(0,i.jsx)(d.p,{type:"date",value:e.endDate,onChange:e=>s(s=>({...s,endDate:e.target.value}))})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(o.J,{children:"تنسيق الملف"}),(0,i.jsxs)(r.l6,{value:e.format,onValueChange:e=>s(s=>({...s,format:e})),children:[(0,i.jsx)(r.bq,{children:(0,i.jsx)(r.yv,{})}),(0,i.jsxs)(r.gC,{children:[(0,i.jsx)(r.eb,{value:"pdf",children:"PDF"}),(0,i.jsx)(r.eb,{value:"excel",children:"Excel"}),(0,i.jsx)(r.eb,{value:"csv",children:"CSV"})]})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(o.J,{children:"اللغة"}),(0,i.jsxs)(r.l6,{value:e.language,onValueChange:e=>s(s=>({...s,language:e})),children:[(0,i.jsx)(r.bq,{children:(0,i.jsx)(r.yv,{})}),(0,i.jsxs)(r.gC,{children:[(0,i.jsx)(r.eb,{value:"ar",children:"العربية"}),(0,i.jsx)(r.eb,{value:"en",children:"English"})]})]})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)(o.J,{children:"خيارات إضافية"}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(j,{id:"charts",checked:e.includeCharts,onCheckedChange:e=>s(s=>({...s,includeCharts:!!e}))}),(0,i.jsx)(o.J,{htmlFor:"charts",className:"text-sm",children:"تضمين الرسوم البيانية"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(j,{id:"details",checked:e.includeDetails,onCheckedChange:e=>s(s=>({...s,includeDetails:!!e}))}),(0,i.jsx)(o.J,{htmlFor:"details",className:"text-sm",children:"تضمين التفاصيل"})]})]})]})]})]}),(0,i.jsxs)(c.Zp,{children:[(0,i.jsxs)(c.aR,{children:[(0,i.jsx)(c.ZB,{className:"text-lg",children:"أقسام التقرير"}),(0,i.jsx)(c.BT,{children:"اختر الأقسام المطلوبة في التقرير"})]}),(0,i.jsx)(c.Wu,{className:"space-y-3",children:[{key:"overview",label:"نظرة عامة",icon:p.A},{key:"revenue",label:"الإيرادات",icon:N.A},{key:"services",label:"الخدمات",icon:u.A},{key:"customers",label:"العملاء",icon:D.A},{key:"geographic",label:"التوزيع الجغرافي",icon:k.A},{key:"operational",label:"العمليات",icon:g.A},{key:"forecasting",label:"التوقعات",icon:A.A}].map(a=>(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(j,{id:a.key,checked:e.sections[a.key],onCheckedChange:()=>(e=>{s(s=>({...s,sections:{...s.sections,[e]:!s.sections[e]}}))})(a.key)}),(0,i.jsxs)(o.J,{htmlFor:a.key,className:"flex items-center gap-2 text-sm",children:[(0,i.jsx)(a.icon,{className:"w-4 h-4"}),a.label]})]},a.key))})]})]}),h&&(0,i.jsxs)(c.Zp,{children:[(0,i.jsxs)(c.aR,{children:[(0,i.jsxs)(c.ZB,{className:"flex items-center gap-2",children:[(0,i.jsx)(y.A,{className:"w-5 h-5"}),"معاينة التقرير"]}),(0,i.jsx)(c.BT,{children:"مراجعة محتوى التقرير قبل الإنشاء"})]}),(0,i.jsx)(c.Wu,{children:(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4 p-4 bg-muted/50 rounded-lg",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium",children:"عنوان التقرير"}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground",children:h.title})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium",children:"الفترة الزمنية"}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground",children:h.period})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium",children:"تنسيق الملف"}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground",children:h.format.toUpperCase()})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium",children:"عدد الأقسام"}),(0,i.jsxs)("p",{className:"text-sm text-muted-foreground",children:[h.sections.length," قسم"]})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium mb-2",children:"الأقسام المضمنة"}),(0,i.jsx)("div",{className:"flex flex-wrap gap-2",children:h.sections.map(e=>(0,i.jsx)(n.E,{variant:"secondary",children:e},e))})]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[h.charts&&(0,i.jsxs)(n.E,{variant:"outline",children:[(0,i.jsx)(p.A,{className:"w-3 h-3 mr-1"}),"يتضمن رسوم بيانية"]}),h.details&&(0,i.jsxs)(n.E,{variant:"outline",children:[(0,i.jsx)(b.A,{className:"w-3 h-3 mr-1"}),"يتضمن تفاصيل"]})]})]})})]}),(0,i.jsxs)(c.Zp,{children:[(0,i.jsxs)(c.aR,{children:[(0,i.jsx)(c.ZB,{className:"text-lg",children:"إجراءات سريعة"}),(0,i.jsx)(c.BT,{children:"تقارير جاهزة ومهام شائعة"})]}),(0,i.jsx)(c.Wu,{children:(0,i.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[(0,i.jsxs)(t.$,{variant:"outline",className:"h-16 flex flex-col gap-1",children:[(0,i.jsx)(v.A,{className:"w-5 h-5"}),(0,i.jsx)("span",{className:"text-xs",children:"تقرير اليوم"})]}),(0,i.jsxs)(t.$,{variant:"outline",className:"h-16 flex flex-col gap-1",children:[(0,i.jsx)(p.A,{className:"w-5 h-5"}),(0,i.jsx)("span",{className:"text-xs",children:"تقرير الأسبوع"})]}),(0,i.jsxs)(t.$,{variant:"outline",className:"h-16 flex flex-col gap-1",children:[(0,i.jsx)(N.A,{className:"w-5 h-5"}),(0,i.jsx)("span",{className:"text-xs",children:"تقرير مالي"})]}),(0,i.jsxs)(t.$,{variant:"outline",className:"h-16 flex flex-col gap-1",children:[(0,i.jsx)(w.A,{className:"w-5 h-5"}),(0,i.jsx)("span",{className:"text-xs",children:"إرسال تلقائي"})]})]})})]})]})};function B(){return(0,i.jsx)(S,{})}}},e=>{e.O(0,[8611,1707,8096,2076,7358],()=>e(e.s=6457)),_N_E=e.O()}]);